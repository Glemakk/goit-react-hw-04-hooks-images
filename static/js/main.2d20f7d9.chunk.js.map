{"version":3,"sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["Header","styled","header","Form","form","SearchButton","button","SearchFormButtonLabel","span","Input","input","Searchbar","onSubmit","useState","query","setQuery","clearForm","e","preventDefault","trim","toast","warning","type","name","value","onChange","target","toLowerCase","autoComplete","autoFocus","placeholder","Item","li","ItemImg","img","ImageGalleryItem","card","onClick","src","webformatURL","alt","tags","id","List","ul","ImageGallery","searchQuery","map","LoadMoreButton","Button","text","page","response","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","defaultProps","propType","PropTypes","func","ReactLoader","div","Loader","color","height","width","timeout","Overlay","ModalWrapper","Modal","onClose","onOpen","addEventListener","onImagesClick","code","currentTarget","largeImageURL","App","image","setImage","searchImage","setSearchImage","setPage","loading","setLoading","error","setError","showModal","setShowModal","largeImage","setLargeImage","useRef","fetch","then","ok","json","Promise","reject","Error","data","prevState","hits","catch","finally","className","message","length","position","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2d20f7d9.chunk.js","sourcesContent":["import styled from '@emotion/styled'\r\n\r\nexport const Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`\r\nexport const SearchButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`\r\nexport const SearchFormButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`\r\n","import { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport {\r\n  Header,\r\n  Form,\r\n  SearchButton,\r\n  SearchFormButtonLabel,\r\n  Input,\r\n} from './Searchbar.styled'\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState('')\r\n\r\n  const handleChange = ({ target }) => {\r\n    const value = target.value\r\n\r\n    setQuery(value.toLowerCase())\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    if (query.trim() === '') {\r\n      toast.warning('Tap some word for searching!')\r\n      return\r\n    }\r\n    onSubmit(query)\r\n    clearForm()\r\n  }\r\n\r\n  const clearForm = () => {\r\n    setQuery('')\r\n  }\r\n\r\n  return (\r\n    <Header>\r\n      <Form onSubmit={handleSubmit}>\r\n        <SearchButton type=\"submit\">\r\n          <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n        </SearchButton>\r\n\r\n        <Input\r\n          type=\"text\"\r\n          name=\"query\"\r\n          value={query}\r\n          onChange={handleChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </Form>\r\n    </Header>\r\n  )\r\n}\r\n\r\nexport default Searchbar\r\n\r\n//=============hte old class\r\n// export default class Searchbar extends Component {\r\n//   state = {\r\n//     query: '',\r\n//   }\r\n\r\n//   handleChange = ({ target }) => {\r\n//     const value = target.value\r\n\r\n//     this.setState({\r\n//       query: value.toLowerCase(),\r\n//     })\r\n//   }\r\n\r\n//   handleSubmit = (e) => {\r\n//     e.preventDefault()\r\n\r\n//     const { query } = this.state\r\n//     const { onSubmit } = this.props\r\n\r\n//     if (query.trim() === '') {\r\n//       toast.warning('Tap some word for searching!')\r\n//       //   alert('Tap text for searching')\r\n//       return\r\n//     }\r\n//     onSubmit(query)\r\n//     this.clearForm()\r\n//   }\r\n\r\n//   clearForm = () => {\r\n//     this.setState({ query: '' })\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <Header>\r\n//         <Form onSubmit={this.handleSubmit}>\r\n//           <SearchButton type=\"submit\">\r\n//             <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n//           </SearchButton>\r\n\r\n//           <Input\r\n//             type=\"text\"\r\n//             name=\"query\"\r\n//             value={this.state.query}\r\n//             onChange={this.handleChange}\r\n//             autoComplete=\"off\"\r\n//             autoFocus\r\n//             placeholder=\"Search images and photos\"\r\n//           />\r\n//         </Form>\r\n//       </Header>\r\n//     )\r\n//   }\r\n// }\r\n","import styled from '@emotion/styled'\r\n\r\nexport const Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`\r\nexport const ItemImg = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`\r\n","import React from 'react'\r\nimport { Item, ItemImg } from './ImageGalleryItem.styled'\r\n\r\nfunction ImageGalleryItem({ card, onClick }) {\r\n  return (\r\n    <Item>\r\n      <ItemImg\r\n        src={card.webformatURL}\r\n        alt={card.tags}\r\n        id={card.id}\r\n        onClick={() => onClick(card)}\r\n      />\r\n    </Item>\r\n  )\r\n}\r\n\r\nexport default ImageGalleryItem\r\n","import styled from '@emotion/styled'\r\n\r\nexport const List = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`\r\n","import React from 'react'\r\nimport ImageGalleryItem from '../ImageGalleryItem'\r\nimport { List } from './ImageGallery.styled'\r\n\r\nfunction ImageGallery({ searchQuery, onClick }) {\r\n  return (\r\n    <List>\r\n      {searchQuery &&\r\n        searchQuery.map((img) => (\r\n          <ImageGalleryItem key={img.id} card={img} onClick={onClick} />\r\n        ))}\r\n    </List>\r\n  )\r\n}\r\n\r\nexport default ImageGallery\r\n\r\n//---------------тоже самое но классом\r\n// import React, { Component } from 'react'\r\n\r\n// export default class ImageGallery extends Component {\r\n\r\n//   render() {\r\n//     // console.log(this.state.newImage)\r\n//     return (\r\n//       <List>\r\n//         {this.props.searchQuery &&\r\n//           this.props.searchQuery.map((img) => (\r\n//             <ImageGalleryItem\r\n//               key={img.id}\r\n//               card={img}\r\n//               onClick={this.props.onClick}\r\n//             />\r\n//           ))}\r\n//       </List>\r\n\r\n//     )\r\n//   }\r\n// }\r\n","import styled from '@emotion/styled'\r\n\r\nexport const LoadMoreButton = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:focus,\r\n  &:hover {\r\n    background-color: #303f9f;\r\n  }\r\n`\r\n","import { useEffect } from 'react'\r\nimport { LoadMoreButton } from './Button.styled'\r\nimport PropTypes from 'prop-types'\r\n\r\nfunction Button({ text, onClick, page, response }) {\r\n  useEffect(() => {\r\n    if (page > 1) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      })\r\n    }\r\n  }, [page, response])\r\n\r\n  return (\r\n    <LoadMoreButton type=\"button\" onClick={onClick}>\r\n      {text}\r\n    </LoadMoreButton>\r\n  )\r\n}\r\n\r\nButton.defaultProps = {\r\n  onClick: () => null,\r\n}\r\nButton.propType = {\r\n  onClick: PropTypes.func,\r\n}\r\nexport default Button\r\n","import styled from '@emotion/styled'\r\n\r\nexport const ReactLoader = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`\r\n","import React from 'react'\r\nimport SpinnerLoader from 'react-loader-spinner'\r\nimport { ReactLoader } from './Loader.styled'\r\n\r\nfunction Loader() {\r\n  return (\r\n    <ReactLoader>\r\n      <SpinnerLoader\r\n        type=\"MutatingDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000}\r\n      />\r\n    </ReactLoader>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import styled from '@emotion/styled'\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`\r\n\r\nexport const ModalWrapper = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`\r\n","import { useEffect } from 'react'\r\nimport { Overlay, ModalWrapper } from './Modal.styled'\r\n\r\nconst Modal = ({ onClose, onOpen }) => {\r\n  useEffect(() => {\r\n    // console.log('запускаем')\r\n    window.addEventListener('keydown', onImagesClick)\r\n\r\n    return () => {\r\n      // console.log('чистим за собой')\r\n      window.addEventListener('keydown', onImagesClick)\r\n    }\r\n  })\r\n\r\n  const onImagesClick = (e) => {\r\n    if (e.code === 'Escape') {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Overlay onClick={handleBackdropClick}>\r\n      <ModalWrapper>\r\n        <img src={onOpen.largeImageURL} alt={onOpen.tags} />\r\n      </ModalWrapper>\r\n    </Overlay>\r\n  )\r\n}\r\n\r\nexport default Modal\r\n\r\n//===========the old class\r\n// export default class Modal extends Component {\r\n//   componentDidMount() {\r\n//     window.addEventListener('keydown', this.onImagesClick)\r\n//   }\r\n\r\n//   onImagesClick = (e) => {\r\n//     if (e.code === 'Escape') {\r\n//       this.props.onClose()\r\n//     }\r\n//   }\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener('keydown', this.onImagesClick)\r\n//   }\r\n\r\n//   handleBackdropClick = (e) => {\r\n//     if (e.currentTarget === e.target) {\r\n//       this.props.onClose()\r\n//     }\r\n//   }\r\n//   render() {\r\n//     return (\r\n//       <Overlay onClick={this.handleBackdropClick}>\r\n//         <ModalWrapper>\r\n//           <img\r\n//             src={this.props.onOpen.largeImageURL}\r\n//             alt={this.props.onOpen.tags}\r\n//           />\r\n//         </ModalWrapper>\r\n//       </Overlay>\r\n//     )\r\n//   }\r\n// }\r\n","import { useState, useEffect, useRef } from 'react'\r\nimport { ToastContainer } from 'react-toastify'\r\n// import fetchApi from './services/pixabayApi'\r\nimport Searchbar from './components/Searchbar'\r\nimport ImageGallery from './components/ImageGallery'\r\nimport Button from './components/Button'\r\nimport Loader from './components/Loader'\r\nimport Modal from './components/Modal'\r\n\r\nconst App = () => {\r\n  const [image, setImage] = useState([])\r\n  const [searchImage, setSearchImage] = useState(null)\r\n  const [page, setPage] = useState(1)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [largeImage, setLargeImage] = useState('')\r\n  const isFirstRender = useRef(true)\r\n\r\n  // if (isFirstRender.current) {\r\n  //     console.log(isFirstRender)\r\n  //     isFirstRender.current = false\r\n  //     return\r\n  //   }\r\n\r\n  useEffect(() => {\r\n    if (searchImage === null) {\r\n      return\r\n    }\r\n    setLoading(true)\r\n    fetch(\r\n      `https://pixabay.com/api/?q=${searchImage}&page=${page}&key=21790462-d81f7d941fc30814a1e9b910b&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          return response.json()\r\n        }\r\n        return Promise.reject(new Error(`Word ${searchImage} is not exist`))\r\n      })\r\n      .then((data) => setImage((prevState) => [...prevState, ...data.hits]))\r\n      .catch((error) => setError({ error }))\r\n      .finally(() => setLoading(false))\r\n    return () => {}\r\n  }, [searchImage, page])\r\n\r\n  const onClickLoadMore = () => {\r\n    setPage((prevState) => prevState + 1)\r\n  }\r\n\r\n  const modalShow = (data) => {\r\n    setShowModal(true)\r\n    setLargeImage(data)\r\n  }\r\n\r\n  const modalHide = () => {\r\n    setShowModal(false)\r\n  }\r\n\r\n  const onFormSubmit = (img) => {\r\n    setSearchImage(img)\r\n    setPage(1)\r\n    setImage([])\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      {error && <h1>{error.message}</h1>}\r\n\r\n      <Searchbar onSubmit={onFormSubmit} />\r\n      <ImageGallery searchQuery={image} onClick={modalShow} />\r\n      {image.length !== 0 && (\r\n        <Button\r\n          text=\"Load more\"\r\n          page={page}\r\n          response={image}\r\n          onClick={onClickLoadMore}\r\n          showModal={showModal}\r\n        />\r\n      )}\r\n      {loading && <Loader />}\r\n      {showModal && <Modal onClose={modalHide} onOpen={largeImage} />}\r\n\r\n      <ToastContainer position=\"top-center\" autoClose={2000} />\r\n    </div>\r\n  )\r\n}\r\nexport default App\r\n\r\n//====================the old class\r\n// export default class App extends Component {\r\n//   state = {\r\n//     image: [],\r\n//     searchImage: null,\r\n//     page: 1,\r\n//     loading: false,\r\n//     error: null,\r\n//     showModal: false,\r\n//     largeImage: '',\r\n//   }\r\n\r\n//   componentDidUpdate(prevProps, prevState) {\r\n//     const { searchImage, page } = this.state\r\n//     if (prevState.searchImage !== searchImage || prevState.page !== page) {\r\n//       this.setState({ loading: true })\r\n//       fetch(\r\n//         `https://pixabay.com/api/?q=${searchImage}&page=${page}&key=21790462-d81f7d941fc30814a1e9b910b&image_type=photo&orientation=horizontal&per_page=12`,\r\n//       )\r\n//         .then((response) => {\r\n//           if (response.ok) {\r\n//             return response.json()\r\n//           }\r\n//           return Promise.reject(\r\n//             new Error(`Word ${this.state.searchImage} is not exist`),\r\n//           )\r\n//         })\r\n//         .then((data) =>\r\n//           this.setState((prevState) => ({\r\n//             image: [...prevState.image, ...data.hits],\r\n//           })),\r\n//         )\r\n//         .catch((error) => this.setState({ error }))\r\n//         .finally(() => this.setState({ loading: false }))\r\n//     }\r\n//   }\r\n\r\n//   onClickLoadMore = () => {\r\n//     this.setState((prevState) => ({\r\n//       page: prevState.page + 1,\r\n//     }))\r\n//   }\r\n\r\n//   modalShow = (data) => {\r\n//     this.setState({ showModal: true, largeImage: data })\r\n//   }\r\n\r\n//   modalHide = () => {\r\n//     this.setState({ showModal: false })\r\n//   }\r\n\r\n//   onFormSubmit = (img) => {\r\n//     this.setState({ searchImage: img, page: 1, image: [] })\r\n//   }\r\n//   render() {\r\n//     const { image, loading, error, showModal, largeImage, page } = this.state\r\n//     return (\r\n//       <div className=\"app\">\r\n//         {error && <h1>{error.message}</h1>}\r\n\r\n//         <Searchbar onSubmit={this.onFormSubmit} />\r\n//         <ImageGallery searchQuery={image} onClick={this.modalShow} />\r\n//         {image.length !== 0 && (\r\n//           <Button\r\n//             text=\"Load more\"\r\n//             page={page}\r\n//             response={image}\r\n//             onClick={this.onClickLoadMore}\r\n//             showModal={showModal}\r\n//           />\r\n//         )}\r\n//         {loading && <Loader />}\r\n//         {showModal && <Modal onClose={this.modalHide} onOpen={largeImage} />}\r\n\r\n//         <ToastContainer position=\"top-center\" autoClose={2000} />\r\n//       </div>\r\n//     )\r\n//   }\r\n// }\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'react-toastify/dist/ReactToastify.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}